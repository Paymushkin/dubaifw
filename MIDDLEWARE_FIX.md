# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ middleware

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

```
Uncaught SyntaxError: Identifier 'validate' has already been declared
```

## üîç –ü—Ä–∏—á–∏–Ω—ã

1. **–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è composables** - —Ñ–∞–π–ª—ã `useVideoVisibility.js` –∏ `useVideoVisibility.ts`
2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç middleware** - Nuxt –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ middleware —Ñ–∞–π–ª—ã
3. **–ö—ç—à Nuxt** - —Å—Ç–∞—Ä—ã–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤—ã–∑—ã–≤–∞–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### **1. –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è —Ñ–∞–π–ª:**
```bash
rm composables/useVideoVisibility.js
```
–û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ `useVideoVisibility.ts`

### **2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω middleware:**
```bash
mv middleware/redirects.global.ts middleware/redirects.ts
```

### **3. –û—á–∏—â–µ–Ω –∫—ç—à Nuxt:**
```bash
rm -rf .nuxt
rm -rf node_modules/.cache
```

### **4. –û–±–Ω–æ–≤–ª–µ–Ω middleware —Ñ–∞–π–ª:**
```typescript
// –ë—ã–ª–æ:
export default defineNuxtRouteMiddleware((to) => {

// –°—Ç–∞–ª–æ:
export default defineNuxtRouteMiddleware((to, from) => {
```

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –û—à–∏–±–∫–∞ `Identifier 'validate' has already been declared` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ Dev —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Middleware —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò–∑–±–µ–≥–∞–π—Ç–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Ñ–∞–π–ª–æ–≤** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `.ts` –∏–ª–∏ `.js` –≤–µ—Ä—Å–∏–∏
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ –∫—ç—à** - `rm -rf .nuxt` –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ middleware** - –∏–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –∏–º–µ–Ω
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã** - `(to, from)` –¥–ª—è middleware

---

**–û—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! üéâ**


