import{e as o,J as l}from"./CbwCkl-J.js";const D=()=>{const n=o({}),a=o(!1),s=o(null),f=async()=>{a.value=!0,s.value=null;try{console.log("🌐 Запрашиваем данные дизайнеров...");const e=await $fetch("/api/designers");console.log("📊 Получены данные:",e),e.success?(n.value=e.designers,console.log("✅ Данные дизайнеров загружены:",n.value)):(s.value=e.error||"Failed to fetch designers",console.error("❌ Ошибка загрузки:",s.value))}catch(e){s.value=e instanceof Error?e.message:"Unknown error",console.error("❌ Ошибка запроса:",s.value)}finally{a.value=!1}},c=e=>e?e.split(" ").map(r=>{if(r.length<=2)return r.charAt(0)+"*".repeat(r.length-1);const m=r.charAt(0),g=r.length>1?r.charAt(r.length-1):"",y="*".repeat(Math.max(1,r.length-2));return m+y+(g||"")}).join(" "):"",i=e=>{const t=c(e.name),r=e.country;return e.confirmed?`• ${t} - ${r}`:`• ${t} - ${r} *PENDING MUTUAL APPROVAL`},u=e=>n.value[e]||[],h=e=>u(e).map(i);return{designers:l(n),loading:l(a),error:l(s),fetchDesigners:f,maskName:c,formatDesigner:i,getDesignersByDay:u,getFormattedDesignersByDay:h}};export{D as u};
