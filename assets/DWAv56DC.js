import{e as u,D as A}from"./EQhLjAd2.js";const U={8:[{name:"NOURA COUTURE",country:"UAE",day:"8",month:"November",confirmed:!0},{name:"ANNET",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"LESNIKOVA DRESSES",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"SOLANA COUTURE",country:"USA",day:"8",month:"November",confirmed:!0},{name:"LORA COUTURE",country:"AZERBAIJAN",day:"8",month:"November",confirmed:!0},{name:"ETNO FRESH",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"BELIZE",country:"GERMANY",day:"8",month:"November",confirmed:!0},{name:"MOONSOUL",country:"KIRGHIZIAN",day:"8",month:"November",confirmed:!0},{name:"OLECIA ARKHIPOVA",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"MARIANNE MOORE",country:"",day:"8",month:"November",confirmed:!0},{name:"IGARNITUR",country:"POLAND",day:"8",month:"November",confirmed:!0},{name:"HERBELIN",country:"POLAND",day:"8",month:"November",confirmed:!0},{name:"DEVU",country:"POLAND",day:"8",month:"November",confirmed:!0}],9:[{name:"ALEXANDRA AMA CABINET",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"ARNI FASHION",country:"USA/INDIAN",day:"9",month:"November",confirmed:!0},{name:"RUBASHKA",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"SNIM",country:"KAZAKHSTAN",day:"9",month:"November",confirmed:!0},{name:"KIBOVSKAYA",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"FYOR",country:"UAE",day:"9",month:"November",confirmed:!0},{name:"POLINA TROPILLO",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"OLGA BOGDANOVA",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"ELENA ROMANOVA",country:"RUSSIA",day:"9",month:"November",confirmed:!0}]},D=o=>(console.log("🔄 Обновляем локальные данные дизайнеров:",o),o),b=()=>{const o=u(U),i=u(!1),s=u(null),d=u(!1),I=async()=>{if(d.value){console.log("📋 Данные уже обновлены, пропускаем запрос");return}i.value=!0,s.value=null;try{console.log("🌐 Запрашиваем актуальные данные дизайнеров из Google Sheets...");const n=await fetch("https://docs.google.com/spreadsheets/d/1hr5eZ148EVDLhAdcY6L1t_PyNGlBtlQNIKm1jGhrQhw/export?format=csv&gid=0");if(!n.ok)throw new Error(`CSV export error: ${n.statusText}`);const c=await n.text();console.log("📊 Получены CSV данные:",c.substring(0,200)+"...");const E=c.split(`
`).filter(e=>e.trim()).map(e=>{const a=[];let t="",y=!1;for(let N=0;N<e.length;N++){const h=e[N];h==='"'?y=!y:h===","&&!y?(a.push(t.trim()),t=""):t+=h}return a.push(t.trim()),a}).slice(1).map((e,a)=>({name:e[0]||"",country:e[1]||"",day:e[2]||"",month:e[3]||"",confirmed:e[4]==="TRUE"})).filter(e=>e.name).reduce((e,a)=>{const t=a.day;return e[t]||(e[t]=[]),e[t].push(a),e},{});o.value=E,D(E),d.value=!0,console.log("✅ Данные дизайнеров обновлены из Google Sheets:",o.value)}catch(r){s.value=r instanceof Error?r.message:"Unknown error",console.error("❌ Ошибка запроса:",s.value),console.log("📋 Используем локальные данные (уже загружены)")}finally{i.value=!1}},v=r=>r?r.split(" ").map(n=>{if(n.length<=2)return n.charAt(0)+"*".repeat(n.length-1);const c=n.charAt(0),l=n.length>1?n.charAt(n.length-1):"",R="*".repeat(Math.max(1,n.length-2));return c+R+(l||"")}).join(" "):"",f=r=>{const m=r.name,n=r.country;return r.confirmed?`• ${m} - ${n}`:`• ${m} - ${n} *PENDING MUTUAL APPROVAL`},S=r=>o.value[r]||[],g=r=>S(r).map(f);return{designers:A(o),loading:A(i),error:A(s),isDataUpdated:A(d),fetchDesigners:I,maskName:v,formatDesigner:f,getDesignersByDay:S,getFormattedDesignersByDay:g}};export{b as u};
