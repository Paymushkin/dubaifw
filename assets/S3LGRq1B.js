import{r}from"./DHJ7njlD.js";function V(){const a=r({}),o=r({}),l=r({}),i=e=>s=>{s.forEach(c=>{const t=a.value[e];c.target===t&&(l.value[e]=c.isIntersecting,c.isIntersecting?t==null||t.play().catch(()=>{}):t==null||t.pause())})},v=e=>{const s=a.value[e];if(s&&!o.value[e]){const c=new IntersectionObserver(i(e),{threshold:.5});c.observe(s),o.value[e]=c}},u=e=>{const s=o.value[e];s&&(s.disconnect(),delete o.value[e])};return{setVideoRef:(e,s)=>{e?(a.value[s]=e,v(s)):(u(s),delete a.value[s])},cleanup:()=>{Object.keys(o.value).forEach(u),a.value={},o.value={},l.value={}},isVisible:l}}export{V as u};
