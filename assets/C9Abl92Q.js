import{K as at,i as j,e as d,p as nt,f as rt,c as a,a as t,k as g,d as it,t as c,u as o,A as Y,F as b,r as f,b as dt,w as mt,C as S,G as C,L as ut,h as M,o as n}from"./BF5SYa7h.js";import{_ as ct}from"./DIdb3yxw.js";import{I as xt}from"./D6rKVlsV.js";import{u as pt}from"./DDU3rtPK.js";const gt={class:"container mx-auto px-4 py-4 md:py-6"},bt={class:"max-w-6xl mx-auto"},ft={class:"md:mb-[76px] mb-[56px]"},yt={class:"flex flex-col md:flex-row gap-6 md:gap-8"},vt={class:"text-center md:text-left flex-1"},ht={class:"text-xl md:text-3xl xl:text-4xl mb-3 md:mb-4"},wt={class:"mb-4 md:mb-6"},kt={class:"mt-4 mb-6"},St={class:"flex flex-col md:flex-row-reverse items-center justify-center md:justify-start gap-2"},Ct=["width"],Mt=["width"],Rt=["x","width","height"],Nt={class:"mt-2 text-center md:text-left text-xs text-gray-500 select-all"},Ot={class:"flex justify-center"},Dt={class:"flex flex-col items-center justify-center relative flex-shrink-0"},Tt={class:"w-full max-w-md mx-auto rounded-lg shadow-md overflow-hidden relative"},_t=["src"],Et={class:"mt-8 md:mt-12"},Pt={class:"hidden md:block"},At={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},It={class:"bg-white p-4 rounded-lg shadow-md"},Ut={class:"space-y-3"},Vt={class:"mt-1 space-y-1"},Lt={class:"bg-white p-4 rounded-lg shadow-md"},Wt={class:"space-y-3"},qt={class:"mt-1 space-y-1"},jt={class:"md:hidden"},Yt={class:"bg-white p-4 rounded-lg shadow-md"},Bt={class:"space-y-4"},Ft={class:"space-y-3"},Gt={class:"mt-1 space-y-1"},$t={class:"space-y-3"},zt={class:"mt-1 space-y-1"},Ht={class:"mb-4"},Kt=["src"],Qt={class:"mb-4 p-4 bg-gray-50 rounded-lg"},Jt={class:"flex gap-2 mb-3"},Xt=["disabled"],Zt={class:"flex gap-3 pt-4"},te=["disabled"],ee={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B=800,F="efw_barcode_value",R=3,T=30,re={__name:"welcome",setup(se){const G=at(),_=j(()=>(G.query.by||"Guest").replace(/\+/g," ")),y=d(!1),m=d("Marina Krapivina"),p=d(!1),v=d(!1),u=d(!1),r=d({name:"",company:"",email:""}),E=j(()=>{const l=window.location.href;return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(l)}`});let P=0,N=0;const $=()=>{P=Date.now()},z=()=>{Date.now()-P>=B&&O()},H=()=>{O()},K=()=>{N=Date.now()},Q=()=>{Date.now()-N>=B&&O()},J=()=>{N=0},O=()=>{y.value=!0},A=()=>{y.value=!1},X=()=>{p.value=!0},I=()=>{p.value=!1,r.value={name:"",company:"",email:""},u.value=!1},U=()=>{v.value=!1},Z=async()=>{if(!u.value){u.value=!0;try{const l={name:r.value.name,company:r.value.company||"",email:r.value.email,inviter:_.value,timestamp:new Date().toISOString(),source:"EFW Registration"};await $fetch("/api/register-guest",{method:"POST",body:l}),p.value=!1,v.value=!0}catch(l){console.error("Registration failed:",l),p.value=!1,v.value=!0}finally{u.value=!1}}},tt=()=>{window.open("https://meyou.id/event/efwss26","_blank")},et=l=>{m.value=l.target.value},st=()=>{if(!m.value.trim())return;const l=m.value.trim().replace(/\s+/g,"+"),s=`${window.location.origin+window.location.pathname}?by=${l}`;E.value=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(s)}`,y.value=!1,setTimeout(()=>{window.location.href=s},100)},{fetchDesigners:ot,designers:V,isDataUpdated:lt}=pt(),h=d([]),w=d([]),D=d(""),x=d([]),L=()=>{const l=Date.now(),e=Math.floor(Math.random()*1e6);return`${l}-${e}`},W=l=>{const e=[];for(let s=0;s<l.length;s++){const i=l.charCodeAt(s);for(let k=7;k>=0;k--)e.push(i>>k&1);e.push(0)}return e.slice(0,200)},q=l=>(V.value[l]||[]).filter(s=>s.confirmed).filter(s=>!["NOURA COUTURE","POLINA TROPILLO"].includes((s.name||"").toUpperCase())).map(s=>{const i=s.country||"";return i&&isNaN(Number(i))&&i!=="8"&&i!=="9"?`${s.name} - ${i}`:s.name});return nt(V,()=>{h.value=q("8"),w.value=q("9"),console.log("📅 Дизайнеры 8 ноября:",h.value),console.log("📅 Дизайнеры 9 ноября:",w.value)},{immediate:!0}),rt(async()=>{if(console.log("🚀 Welcome: Компонент смонтирован"),console.log("📋 Welcome: Локальные данные уже доступны"),lt.value)console.log("📋 Welcome: Данные уже обновлены, используем кэш");else{console.log("🔄 Welcome: Пытаемся обновить данные из Google Sheets...");try{await ot(),console.log("✅ Welcome: Данные обновлены из Google Sheets")}catch{console.log("📋 Welcome: Используем локальные данные (Google Sheets недоступен)")}}try{const l=localStorage.getItem(F),e=l||L();l||localStorage.setItem(F,e),D.value=e,x.value=W(e)}catch{const e=L();D.value=e,x.value=W(e)}}),(l,e)=>(n(),a("div",null,[t("div",gt,[t("div",bt,[t("section",ft,[t("div",yt,[t("div",vt,[t("h1",ht,[e[7]||(e[7]=it(" Your Emirates Fashion Week invitation by ",-1)),t("span",{class:"inline-block px-2 py-0.5 rounded-md bg-black text-white cursor-pointer select-none",onTouchstartPassive:$,onTouchend:z,onDblclick:H,onMousedown:K,onMouseup:Q,onMouseleave:J},c(o(_))+"*",33)]),e[11]||(e[11]=t("p",{class:"text-sm md:text-base text-gray-600 italic mb-4 md:mb-6"}," (*PRO/Premium tier, authorized to invite) ",-1)),t("div",wt,[e[9]||(e[9]=Y('<div class="overflow-x-auto"><table class="min-w-full mb-3"><thead><tr class="border-b border-gray-200"><th class="py-2 px-3 text-left text-sm md:text-lg font-medium text-gray-500">Date &amp; Time</th><th class="py-2 px-3 text-left text-sm md:text-lg font-medium text-gray-500">Event</th></tr></thead><tbody><tr class="border-b border-gray-100"><td class="py-2 px-3 text-sm md:text-lg font-medium">8 NOV | SAT 6–10PM</td><td class="py-2 px-3 text-sm md:text-lg text-gray-600">PRÊT-À-PORTER WOMEN&#39;S<br>&amp; MEN&#39;S COLLECTIONS SS 26</td></tr><tr class="border-b border-gray-100"><td class="py-2 px-3 text-sm md:text-lg font-medium">9 NOV | SUN 6–10PM</td><td class="py-2 px-3 text-sm md:text-lg text-gray-600">READY-TO-WEAR COLLECTIONS<br>&amp; Kid&#39;s collections Pop-Up Market</td></tr><tr class="border-b border-gray-100"><td class="py-2 px-3 text-sm md:text-lg font-medium">10 NOV | MON 10AM–6PM</td><td class="py-2 px-3 text-sm md:text-lg text-gray-600">POP-UP MARKET &amp; BEAUTY SERVICES </td></tr><tr><td class="py-2 px-3 text-sm md:text-lg font-medium">11 NOV | TUE 10AM–6PM</td><td class="py-2 px-3 text-sm md:text-lg text-gray-600">POP-UP MARKET &amp; WELLNESS SERVICES</td></tr></tbody></table></div>',1)),t("div",kt,[t("div",St,[e[8]||(e[8]=t("p",{class:"text-sm md:text-base text-gray-600 md:ml-2 text-center md:text-left"}," This page is your final invitation. No emails, tickets, or confirmations will follow. ",-1)),o(x).length?(n(),a("svg",{key:0,width:R*o(x).length,height:T,role:"img","aria-label":"Access barcode",class:"w-full md:max-w-[260px]"},[t("rect",{width:R*o(x).length,height:T,fill:"#ffffff"},null,8,Mt),(n(!0),a(b,null,f(o(x),(s,i)=>(n(),a("rect",{key:i,x:i*R,y:"0",width:s===1?Math.max(1,R-.5):0,height:s===1?T:0,fill:"#000000"},null,8,Rt))),128))],8,Ct)):g("",!0)]),t("p",Nt," Code: "+c(o(D)),1)])]),e[12]||(e[12]=t("div",{class:"hidden md:flex gap-4 items-center"},[t("div",{class:"bg-white inline-block max-w-[160px] flex-shrink-0"},[t("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=https://meyou.id/efwss26%23guests",alt:"QR code for event platform",class:"mb-1 w-full"})]),t("p",{class:"text-sm md:text-base text-gray-600 mb-4"}," If you want VIP seats, please scan this QR code with the phone you'll bring to the event. A quick sign-in and a short note about yourself will serve as your VIP seat request, helping us seat you close to the right people. ")],-1)),t("div",Ot,[dt(ct,{variant:"primary",onClick:X},{default:mt(()=>e[10]||(e[10]=[t("span",null,"Confirm & Add to Calendar",-1)])),_:1,__:[10]})])]),t("div",Dt,[t("div",Tt,[t("img",{src:o(xt),alt:"Emirates Fashion Week 2025",class:"w-full md:h-auto md:max-h-unset max-h-[65vh] h-[65vh] object-cover md:max-w-md hidden lg:block"},null,8,_t)])])])]),e[25]||(e[25]=t("section",{class:"md:mb-[76px] mb-[56px]"},[t("h2",{class:"text-2xl md:text-3xl font-bold uppercase text-left mb-8"},"Location"),t("p",{class:"text-sm md:text-base text-gray-600 mb-4"},"Skylight Gallery. Arjaan by Rotana. Dubai Media City"),t("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1185.1534268127045!2d55.15329961837267!3d25.095293069615156!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e5f6b44056573e7%3A0xc77c77051f31ecc!2sArjaan%20by%20Rotana%20Dubai!5e1!3m2!1sru!2sae!4v1757573179410!5m2!1sru!2sae",width:"100%",height:"400",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",class:"rounded-lg"})],-1)),t("div",Et,[e[24]||(e[24]=t("h2",{class:"text-2xl md:text-3xl font-bold uppercase text-left mb-4 md:mb-6"},"Fashion Show",-1)),t("div",Pt,[t("div",At,[t("div",It,[e[14]||(e[14]=t("h3",{class:"text-base font-medium text-gray-800 mb-3"},"November 8, 2025",-1)),t("div",Ut,[t("div",null,[e[13]||(e[13]=t("h4",{class:"text-base md:text-lg font-medium text-gray-700"},"Doors open 6PM",-1)),t("ul",Vt,[(n(!0),a(b,null,f(o(h),s=>(n(),a("li",{key:s,class:"text-sm text-gray-600"},c(s),1))),128))])])])]),t("div",Lt,[e[17]||(e[17]=t("h3",{class:"text-base font-medium text-gray-800 mb-3"},"November 9, 2025",-1)),t("div",Wt,[t("div",null,[e[15]||(e[15]=t("h4",{class:"text-base md:text-lg font-medium text-gray-700"},"Doors open 6PM",-1)),t("ul",qt,[(n(!0),a(b,null,f(o(w),s=>(n(),a("li",{key:s,class:"text-sm text-gray-600"},c(s),1))),128))]),e[16]||(e[16]=t("p",{class:"text-sm text-gray-700 font-semibold mt-2"},"FASHION SHOW BY TOP FASHION STYLISTS",-1))])])])])]),t("div",jt,[t("div",Yt,[e[23]||(e[23]=t("h3",{class:"hidden md:block text-2xl md:text-3xl font-bold uppercase text-gray-800 mb-3 text-left"},"Fashion Show",-1)),t("div",Bt,[t("div",null,[e[19]||(e[19]=t("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"November 8, 2025",-1)),t("div",Ft,[t("div",null,[e[18]||(e[18]=t("h5",{class:"text-sm font-medium text-gray-600"},"Doors open 6PM",-1)),t("ul",Gt,[(n(!0),a(b,null,f(o(h),s=>(n(),a("li",{key:s,class:"text-xs text-gray-600"},c(s),1))),128))])])])]),t("div",null,[e[22]||(e[22]=t("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"November 9, 2025",-1)),t("div",$t,[t("div",null,[e[20]||(e[20]=t("h5",{class:"text-sm font-medium text-gray-600"},"Doors open 6PM",-1)),t("ul",zt,[(n(!0),a(b,null,f(o(w),s=>(n(),a("li",{key:s,class:"text-xs text-gray-600"},c(s),1))),128))]),e[21]||(e[21]=t("p",{class:"text-xs text-gray-700 font-semibold mt-2"},"FASHION SHOW BY TOP FASHION STYLISTS",-1))])])])])])])])])]),o(y)?(n(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:A},[t("div",{class:"bg-white rounded-lg p-6 max-w-sm w-full text-center",onClick:e[1]||(e[1]=M(()=>{},["stop"]))},[e[27]||(e[27]=t("h3",{class:"text-lg font-semibold mb-4"},"Share this invitation",-1)),t("div",Ht,[t("img",{src:o(E),alt:"QR Code for invitation",class:"mx-auto w-48 h-48"},null,8,Kt)]),t("div",Qt,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2 text-left"}," Authorized to invite ",-1)),t("div",Jt,[S(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>ut(m)?m.value=s:null),type:"text",placeholder:"Marina Krapivina",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:et},null,544),[[C,o(m)]]),t("button",{onClick:st,class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",disabled:!o(m).trim()}," OK ",8,Xt)])]),e[28]||(e[28]=t("p",{class:"text-sm text-gray-600 mb-4"}," Scan this QR code to share your invitation ",-1)),t("button",{onClick:A,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors"}," Close ")])])):g("",!0),o(p)?(n(),a("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:I},[t("div",{class:"bg-white rounded-lg p-6 max-w-md w-full",onClick:e[5]||(e[5]=M(()=>{},["stop"]))},[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold mb-4"},"Confirm Your Attendance",-1)),t("form",{onSubmit:M(Z,["prevent"]),class:"space-y-4"},[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Name* ",-1)),S(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(r).name=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your full name"},null,512),[[C,o(r).name]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Company ",-1)),S(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(r).company=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your company name"},null,512),[[C,o(r).company]])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Email (for Calendar reminder)* ",-1)),S(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(r).email=s),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"},null,512),[[C,o(r).email]])]),t("div",Zt,[t("button",{type:"button",onClick:I,class:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors"}," Cancel "),t("button",{type:"submit",disabled:!o(r).name||!o(r).email||o(u),class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o(u)?(n(),a("svg",ee,e[32]||(e[32]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):g("",!0),t("span",null,c(o(u)?"Sending...":"OK"),1)],8,te)])],32)])])):g("",!0),o(v)?(n(),a("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:U},[t("div",{class:"bg-white rounded-lg p-6 max-w-md w-full text-center",onClick:e[6]||(e[6]=M(()=>{},["stop"]))},[e[35]||(e[35]=Y('<div class="mb-4"><svg class="w-16 h-16 text-green-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><h3 class="text-lg font-semibold text-gray-800 mb-2">You&#39;re officially on the Guest List!</h3><p class="text-gray-600 mb-6">Your Google Calendar reminder is on its way to your email</p></div>',1)),t("div",{class:"mb-6 p-4 bg-gray-50 rounded-lg"},[e[34]||(e[34]=t("p",{class:"text-sm text-gray-600 mb-3"}," Optional: Share a few words about your usefulness, and we'll do our best to place you with matching VIPs ",-1)),t("button",{onClick:tt,class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"}," Request Reserved Seat ")]),t("button",{onClick:U,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors"}," Close ")])])):g("",!0)]))}};export{re as default};
