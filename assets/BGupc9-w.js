import{r as l}from"./BKUrjGj4.js";function V(){const c=l({}),o=l({}),a=l({}),v=e=>s=>{s.forEach(t=>{const i=c.value[e];t.target===i&&(a.value[e]=t.isIntersecting,t.isIntersecting?i?.play().catch(()=>{}):i?.pause())})},u=e=>{const s=c.value[e];if(s&&!o.value[e]){const t=new IntersectionObserver(v(e),{threshold:.5});t.observe(s),o.value[e]=t}},r=e=>{const s=o.value[e];s&&(s.disconnect(),delete o.value[e])};return{setVideoRef:(e,s)=>{e?(c.value[s]=e,u(s)):(r(s),delete c.value[s])},cleanup:()=>{Object.keys(o.value).forEach(r),c.value={},o.value={},a.value={}},isVisible:a}}export{V as u};
