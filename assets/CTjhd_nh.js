import{K as S,r as n,c as b,y as f,o as g,a as t,q as T,L as u,M as d,x as E,t as p}from"./C6uZKeCE.js";const h={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},C={class:"bg-white p-6 rounded-lg max-w-md w-full mx-4"},M={key:0,class:"mt-1 text-sm text-red-500"},V=["disabled"],q={__name:"ContactForm",props:{isOpen:Boolean},emits:["close"],setup(x,{emit:v}){const c=v,s=S({name:"",email:"",message:""}),o=n(""),r=n(!1),i=n(!1),m=n(!1),y=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),w=()=>{c("close"),s.name="",s.email="",s.message="",o.value="",i.value=!1,m.value=!1},k=async()=>{if(o.value="",!y(s.email)){o.value="Please enter a valid email address";return}r.value=!0;try{const a=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,email:s.email,message:s.message})});if(!a.ok){const l=await a.text();throw console.error("Server response:",l),new Error(`HTTP error! status: ${a.status}`)}const e=await a.json();console.log("Success:",e),i.value=!0,s.name="",s.email="",s.message="",setTimeout(()=>{i.value=!1,c("close")},3e3)}catch(a){console.error("Error sending message:",a),m.value=!0,setTimeout(()=>{m.value=!1},3e3)}finally{r.value=!1}};return(a,e)=>x.isOpen?(g(),b("div",h,[t("div",C,[t("div",{class:"flex justify-between items-center mb-6"},[e[3]||(e[3]=t("h3",{class:"text-xl font-semibold"},"Contact Us",-1)),t("button",{onClick:w,class:"text-gray-500 hover:text-gray-700 text-2xl leading-none"}," Ã— ")]),t("form",{onSubmit:T(k,["prevent"]),class:"space-y-4"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Name",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.name=l),type:"text",required:"",class:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"},null,512),[[d,s.name]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.email=l),type:"email",required:"",class:E(["w-full px-3 py-2 text-black border rounded-md focus:outline-none focus:ring-2 focus:ring-black",o.value?"border-red-500":"border-gray-300"])},null,2),[[d,s.email]]),o.value?(g(),b("p",M,p(o.value),1)):f("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message",-1)),u(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.message=l),required:"",rows:"4",class:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"},null,512),[[d,s.message]])]),t("button",{type:"submit",disabled:r.value,class:"w-full bg-black text-white py-2 rounded-md hover:bg-opacity-90 transition-colors disabled:bg-gray-400"},p(r.value?"Sending...":"Send Message"),9,V)],32)])])):f("",!0)}};export{q as _};
