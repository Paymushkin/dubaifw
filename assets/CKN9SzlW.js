import{e as l,J as N}from"./CdZUx5KF.js";const O=()=>{const m=l({}),u=l(!1),s=l(null),E=async()=>{u.value=!0,s.value=null;try{console.log("🌐 Запрашиваем данные дизайнеров напрямую из Google Sheets...");const r=await fetch("https://docs.google.com/spreadsheets/d/1hr5eZ148EVDLhAdcY6L1t_PyNGlBtlQNIKm1jGhrQhw/export?format=csv&gid=0");if(!r.ok)throw new Error(`CSV export error: ${r.statusText}`);const c=await r.text();console.log("📊 Получены CSV данные:",c.substring(0,200)+"...");const I=c.split(`
`).filter(e=>e.trim()).map(e=>{const o=[];let t="",i=!1;for(let y=0;y<e.length;y++){const d=e[y];d==='"'?i=!i:d===","&&!i?(o.push(t.trim()),t=""):t+=d}return o.push(t.trim()),o}).slice(1).map((e,o)=>({name:e[0]||"",country:e[1]||"",day:e[2]||"",month:e[3]||"",confirmed:e[4]==="TRUE"})).filter(e=>e.name).reduce((e,o)=>{const t=o.day;return e[t]||(e[t]=[]),e[t].push(o),e},{});m.value=I,console.log("✅ Данные дизайнеров загружены:",m.value)}catch(n){s.value=n instanceof Error?n.message:"Unknown error",console.error("❌ Ошибка запроса:",s.value),console.log("🔄 Используем fallback данные..."),m.value={8:[{name:"NOURA COUTURE",country:"UAE",day:"8",month:"November",confirmed:!0},{name:"ANNET",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"LESNIKOVA DRESSES",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"SOLANA COUTURE",country:"USA",day:"8",month:"November",confirmed:!0},{name:"LORA COUTURE",country:"AZERBAIJAN",day:"8",month:"November",confirmed:!0},{name:"ETNO FRESH",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"BELIZE",country:"GERMANY",day:"8",month:"November",confirmed:!0},{name:"MOONSOUL",country:"KIRGHIZIAN",day:"8",month:"November",confirmed:!0},{name:"OLECIA ARKHIPOVA",country:"RUSSIA",day:"8",month:"November",confirmed:!0},{name:"MARIANNE MOORE",country:"",day:"8",month:"November",confirmed:!0},{name:"IGARNITUR",country:"POLAND",day:"8",month:"November",confirmed:!0},{name:"HERBELIN",country:"POLAND",day:"8",month:"November",confirmed:!0},{name:"DEVU",country:"POLAND",day:"8",month:"November",confirmed:!0}],9:[{name:"ALEXANDRA AMA CABINET",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"ARNI FASHION",country:"USA/INDIAN",day:"9",month:"November",confirmed:!0},{name:"RUBASHKA",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"SNIM",country:"KAZAKHSTAN",day:"9",month:"November",confirmed:!0},{name:"KIBOVSKAYA",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"FYOR",country:"UAE",day:"9",month:"November",confirmed:!0},{name:"POLINA TROPILLO",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"OLGA BOGDANOVA",country:"RUSSIA",day:"9",month:"November",confirmed:!0},{name:"ELENA ROMANOVA",country:"RUSSIA",day:"9",month:"November",confirmed:!0}]},console.log("✅ Fallback данные загружены:",m.value)}finally{u.value=!1}},h=n=>n?n.split(" ").map(r=>{if(r.length<=2)return r.charAt(0)+"*".repeat(r.length-1);const c=r.charAt(0),A=r.length>1?r.charAt(r.length-1):"",R="*".repeat(Math.max(1,r.length-2));return c+R+(A||"")}).join(" "):"",f=n=>{const a=h(n.name),r=n.country;return n.confirmed?`• ${a} - ${r}`:`• ${a} - ${r} *PENDING MUTUAL APPROVAL`},S=n=>m.value[n]||[],v=n=>S(n).map(f);return{designers:N(m),loading:N(u),error:N(s),fetchDesigners:E,maskName:h,formatDesigner:f,getDesignersByDay:S,getFormattedDesignersByDay:v}};export{O as u};
