import{_ as A,u as E,r as h,e as P,f as b,k as W,g as T,c as o,o as i,a as c,F as v,d as k,t as x,i as H,b as L,n as w,w as O,j as C,v as I,T as N}from"./BexLai4y.js";const Q={class:"text-xl md:text-3xl xl:text-4xl mb-8 md:mb-12"},B={key:0,class:"text-center py-8"},z={key:1,class:"text-center py-8"},J={class:"text-red-600"},M={key:2,class:"flex flex-col gap-4"},U=["id"],R=["onClick"],$={class:"text-base md:text-xl xl:text-2xl pr-8 text-left"},j=["innerHTML"],G={__name:"FaqSectionDynamic",props:{standalone:{type:Boolean,default:!1}},setup(f){const q=E(),p=h(q.hash.slice(1)),s=h([]),r=h(!0),d=h(""),n=h({}),y=a=>a.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").substring(0,50),F=async()=>{try{console.log("FaqSectionDynamic: fetchFaq called"),r.value=!0,d.value="";const a=window.location.hostname.includes("localhost")||window.location.hostname.includes("127.0.0.1")||window.location.hostname.includes("0.0.0.0");if(console.log("FaqSectionDynamic: isLocal =",a),console.log("FaqSectionDynamic: hostname =",window.location.hostname),a){console.log("FaqSectionDynamic: Using local API");try{const t=await $fetch("/api/faq");console.log("FaqSectionDynamic: API response =",t),t.success?(s.value=t.faq.map(e=>({id:y(e.question),question:e.question,answer:e.answer})),console.log("FaqSectionDynamic: FAQ items loaded =",s.value.length)):d.value=t.error||"Ошибка загрузки FAQ"}catch(t){console.error("FaqSectionDynamic: API Error:",t),s.value=[],d.value="Сервис временно недоступен"}r.value=!1}else{const t="https://script.google.com/macros/s/AKfycbyJofyXQHr2G9RXPbdOhE8dvl10HDSIgz9tZEB_rlz4gg22btKAyPBDhelmlEqY0n8z/exec",e="callback_faq_"+Date.now();window[e]=u=>{console.log("FaqSectionDynamic: JSONP callback received:",u),u&&u.success&&u.faq?(s.value=u.faq.map(m=>({id:y(m.question),question:m.question,answer:m.answer})),console.log("FaqSectionDynamic: FAQ items loaded from JSONP =",s.value.length)):(console.log("FaqSectionDynamic: JSONP failed, using fallback data"),s.value=[{id:"what-is-dubai-fashion-week",question:"What is Dubai Fashion Week?",answer:"Dubai Fashion Week is the largest fashion event in the UAE, bringing together designers, brands and the fashion industry."},{id:"when-does-the-event-take-place",question:"When does the event take place?",answer:"Dubai Fashion Week takes place annually in March and October, presenting spring-summer and autumn-winter collections."},{id:"how-to-participate",question:"How to participate?",answer:"To participate, you need to submit an application through our website and pass the selection of the expert commission."},{id:"what-is-the-cost-of-participation",question:"What is the cost of participation?",answer:"The cost of participation depends on the type of participation and service package. Details can be found when submitting an application."}]),r.value=!1,delete window[e],l&&l.parentNode&&document.head.removeChild(l)};const l=document.createElement("script");l.src=`${t}?action=getFaq&callback=${e}`,l.onerror=()=>{console.log("FaqSectionDynamic: JSONP script failed, using fallback data"),s.value=[{id:"what-is-dubai-fashion-week",question:"What is Dubai Fashion Week?",answer:"Dubai Fashion Week is the largest fashion event in the UAE, bringing together designers, brands and the fashion industry."},{id:"when-does-the-event-take-place",question:"When does the event take place?",answer:"Dubai Fashion Week takes place annually in March and October, presenting spring-summer and autumn-winter collections."},{id:"how-to-participate",question:"How to participate?",answer:"To participate, you need to submit an application through our website and pass the selection of the expert commission."},{id:"what-is-the-cost-of-participation",question:"What is the cost of participation?",answer:"The cost of participation depends on the type of participation and service package. Details can be found when submitting an application."}],r.value=!1,delete window[e]},document.head.appendChild(l)}}catch(a){console.error("Error fetching FAQ:",a),d.value="Ошибка загрузки FAQ",r.value=!1}},_=P(()=>s.value),D=a=>{n.value[a]=!n.value[a]},S=()=>{p.value&&(n.value[p.value]=!0)};b(async()=>{await F(),await W(),S()});const g=()=>{const a=window.location.hash.slice(1);a&&a!==p.value&&(Object.keys(n.value).forEach(t=>{n.value[t]=!1}),n.value[a]=!0,p.value=a)};return b(()=>{window.addEventListener("hashchange",g)}),T(()=>{window.removeEventListener("hashchange",g)}),(a,t)=>(i(),o("section",{class:w(["container mx-auto px-4",{"py-20 md:py-[100px]":!f.standalone},{"py-[60px] md:py-[120px]":f.standalone}])},[c("h2",Q,[f.standalone?(i(),o(v,{key:0},[k(" Frequently Asked Questions ")],64)):(i(),o(v,{key:1},[k(" FAQ ")],64))]),r.value?(i(),o("div",B,t[0]||(t[0]=[c("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-black"},null,-1)]))):d.value?(i(),o("div",z,[c("p",J,"Ошибка загрузки FAQ: "+x(d.value),1)])):(i(),o("div",M,[(i(!0),o(v,null,H(_.value,e=>(i(),o("div",{key:e.id,id:e.id},[c("div",{class:"border border-black cursor-pointer",onClick:l=>D(e.id)},[c("div",{class:w(["w-full p-4 md:p-6 flex justify-between items-start hover:bg-gray-50",{"border-b border-black":n.value[e.id]}])},[c("span",$,x(e.question),1),c("span",{class:w(["text-2xl transform transition-transform duration-300 flex-shrink-0",{"rotate-45":n.value[e.id]}])},"+",2)],2),L(N,{"enter-active-class":"transition duration-500 ease-out","enter-from-class":"transform scale-y-95 -translate-y-1 opacity-0","enter-to-class":"transform scale-y-100 translate-y-0 opacity-100","leave-active-class":"transition duration-400 ease-in-out","leave-from-class":"transform scale-y-100 translate-y-0 opacity-100","leave-to-class":"transform scale-y-95 -translate-y-1 opacity-0"},{default:O(()=>[C(c("div",{class:"p-4 md:p-6 text-sm md:text-base xl:text-lg text-black-70 border-t border-black origin-top",innerHTML:e.answer},null,8,j),[[I,n.value[e.id]]])]),_:2},1024)],8,R)],8,U))),128))]))],2))}},K=A(G,[["__scopeId","data-v-05b55565"]]);export{K as F};
